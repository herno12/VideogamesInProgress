
let resultsEnData= {
	"count": 19,
	"next": null,
	"previous": null,
	"results": [
		{
			"id": 4,
			"name": "Action",
			"slug": "action",
			"games_count": 175099,
			"image_background": "https://media.rawg.io/media/games/7cf/7cfc9220b401b7a300e409e539c9afd5.jpg",
			"games": [
				{
					"id": 3498,
					"slug": "grand-theft-auto-v",
					"name": "Grand Theft Auto V",
					"added": 18868
				},
				{
					"id": 3328,
					"slug": "the-witcher-3-wild-hunt",
					"name": "The Witcher 3: Wild Hunt",
					"added": 17988
				},
				{
					"id": 5286,
					"slug": "tomb-raider",
					"name": "Tomb Raider (2013)",
					"added": 14862
				},
				{
					"id": 4291,
					"slug": "counter-strike-global-offensive",
					"name": "Counter-Strike: Global Offensive",
					"added": 14669
				},
				{
					"id": 12020,
					"slug": "left-4-dead-2",
					"name": "Left 4 Dead 2",
					"added": 14372
				},
				{
					"id": 5679,
					"slug": "the-elder-scrolls-v-skyrim",
					"name": "The Elder Scrolls V: Skyrim",
					"added": 14301
				}
			]
		},
		{
			"id": 51,
			"name": "Indie",
			"slug": "indie",
			"games_count": 50568,
			"image_background": "https://media.rawg.io/media/games/58a/58ac7f6569259dcc0b60b921869b19fc.jpg",
			"games": [
				{
					"id": 1030,
					"slug": "limbo",
					"name": "Limbo",
					"added": 12195
				},
				{
					"id": 3272,
					"slug": "rocket-league",
					"name": "Rocket League",
					"added": 11085
				},
				{
					"id": 422,
					"slug": "terraria",
					"name": "Terraria",
					"added": 10880
				},
				{
					"id": 9767,
					"slug": "hollow-knight",
					"name": "Hollow Knight",
					"added": 9463
				},
				{
					"id": 3612,
					"slug": "hotline-miami",
					"name": "Hotline Miami",
					"added": 9313
				},
				{
					"id": 3790,
					"slug": "outlast",
					"name": "Outlast",
					"added": 9231
				}
			]
		},
		{
			"id": 3,
			"name": "Adventure",
			"slug": "adventure",
			"games_count": 134475,
			"image_background": "https://media.rawg.io/media/games/456/456dea5e1c7e3cd07060c14e96612001.jpg",
			"games": [
				{
					"id": 3498,
					"slug": "grand-theft-auto-v",
					"name": "Grand Theft Auto V",
					"added": 18868
				},
				{
					"id": 3328,
					"slug": "the-witcher-3-wild-hunt",
					"name": "The Witcher 3: Wild Hunt",
					"added": 17988
				},
				{
					"id": 5286,
					"slug": "tomb-raider",
					"name": "Tomb Raider (2013)",
					"added": 14862
				},
				{
					"id": 13536,
					"slug": "portal",
					"name": "Portal",
					"added": 14394
				},
				{
					"id": 3439,
					"slug": "life-is-strange-episode-1-2",
					"name": "Life is Strange",
					"added": 13629
				},
				{
					"id": 28,
					"slug": "red-dead-redemption-2",
					"name": "Red Dead Redemption 2",
					"added": 13619
				}
			]
		},
		{
			"id": 5,
			"name": "RPG",
			"slug": "role-playing-games-rpg",
			"games_count": 53002,
			"image_background": "https://media.rawg.io/media/games/d0f/d0f91fe1d92332147e5db74e207cfc7a.jpg",
			"games": [
				{
					"id": 3328,
					"slug": "the-witcher-3-wild-hunt",
					"name": "The Witcher 3: Wild Hunt",
					"added": 17988
				},
				{
					"id": 5679,
					"slug": "the-elder-scrolls-v-skyrim",
					"name": "The Elder Scrolls V: Skyrim",
					"added": 14301
				},
				{
					"id": 802,
					"slug": "borderlands-2",
					"name": "Borderlands 2",
					"added": 13640
				},
				{
					"id": 58175,
					"slug": "god-of-war-2",
					"name": "God of War (2018)",
					"added": 11974
				},
				{
					"id": 3070,
					"slug": "fallout-4",
					"name": "Fallout 4",
					"added": 11974
				},
				{
					"id": 278,
					"slug": "horizon-zero-dawn",
					"name": "Horizon Zero Dawn",
					"added": 11422
				}
			]
		},
		{
			"id": 10,
			"name": "Strategy",
			"slug": "strategy",
			"games_count": 52808,
			"image_background": "https://media.rawg.io/media/games/5f4/5f4780690dbf04900cbac5f05b9305f3.jpg",
			"games": [
				{
					"id": 13633,
					"slug": "civilization-v",
					"name": "Sid Meier's Civilization V",
					"added": 8441
				},
				{
					"id": 10243,
					"slug": "company-of-heroes-2",
					"name": "Company of Heroes 2",
					"added": 8319
				},
				{
					"id": 13910,
					"slug": "xcom-enemy-unknown",
					"name": "XCOM: Enemy Unknown",
					"added": 7530
				},
				{
					"id": 5525,
					"slug": "brutal-legend",
					"name": "Brutal Legend",
					"added": 7466
				},
				{
					"id": 10065,
					"slug": "cities-skylines",
					"name": "Cities: Skylines",
					"added": 7244
				},
				{
					"id": 11147,
					"slug": "ark-survival-of-the-fittest",
					"name": "ARK: Survival Of The Fittest",
					"added": 6886
				}
			]
		},
		{
			"id": 2,
			"name": "Shooter",
			"slug": "shooter",
			"games_count": 61899,
			"image_background": "https://media.rawg.io/media/games/157/15742f2f67eacff546738e1ab5c19d20.jpg",
			"games": [
				{
					"id": 4200,
					"slug": "portal-2",
					"name": "Portal 2",
					"added": 16940
				},
				{
					"id": 4291,
					"slug": "counter-strike-global-offensive",
					"name": "Counter-Strike: Global Offensive",
					"added": 14669
				},
				{
					"id": 12020,
					"slug": "left-4-dead-2",
					"name": "Left 4 Dead 2",
					"added": 14372
				},
				{
					"id": 4062,
					"slug": "bioshock-infinite",
					"name": "BioShock Infinite",
					"added": 13794
				},
				{
					"id": 802,
					"slug": "borderlands-2",
					"name": "Borderlands 2",
					"added": 13640
				},
				{
					"id": 13537,
					"slug": "half-life-2",
					"name": "Half-Life 2",
					"added": 12881
				}
			]
		},
		{
			"id": 40,
			"name": "Casual",
			"slug": "casual",
			"games_count": 42959,
			"image_background": "https://media.rawg.io/media/games/89a/89a700d3c6a76bd0610ca89ccd20da54.jpg",
			"games": [
				{
					"id": 9721,
					"slug": "garrys-mod",
					"name": "Garry's Mod",
					"added": 8501
				},
				{
					"id": 326292,
					"slug": "fall-guys",
					"name": "Fall Guys: Ultimate Knockout",
					"added": 7445
				},
				{
					"id": 9830,
					"slug": "brawlhalla",
					"name": "Brawlhalla",
					"added": 6412
				},
				{
					"id": 356714,
					"slug": "among-us",
					"name": "Among Us",
					"added": 6075
				},
				{
					"id": 1959,
					"slug": "goat-simulator",
					"name": "Goat Simulator",
					"added": 5648
				},
				{
					"id": 16343,
					"slug": "a-story-about-my-uncle",
					"name": "A Story About My Uncle",
					"added": 5346
				}
			]
		},
		{
			"id": 14,
			"name": "Simulation",
			"slug": "simulation",
			"games_count": 66089,
			"image_background": "https://media.rawg.io/media/games/651/651ae84f2d5e36206aad90976a453329.jpg",
			"games": [
				{
					"id": 10035,
					"slug": "hitman",
					"name": "Hitman",
					"added": 9578
				},
				{
					"id": 654,
					"slug": "stardew-valley",
					"name": "Stardew Valley",
					"added": 8543
				},
				{
					"id": 9721,
					"slug": "garrys-mod",
					"name": "Garry's Mod",
					"added": 8501
				},
				{
					"id": 10243,
					"slug": "company-of-heroes-2",
					"name": "Company of Heroes 2",
					"added": 8319
				},
				{
					"id": 9882,
					"slug": "dont-starve-together",
					"name": "Don't Starve Together",
					"added": 7949
				},
				{
					"id": 22509,
					"slug": "minecraft",
					"name": "Minecraft",
					"added": 7249
				}
			]
		},
		{
			"id": 7,
			"name": "Puzzle",
			"slug": "puzzle",
			"games_count": 98755,
			"image_background": "https://media.rawg.io/media/games/39a/39a8aa7798b685f9625e857bc394259d.jpg",
			"games": [
				{
					"id": 4200,
					"slug": "portal-2",
					"name": "Portal 2",
					"added": 16940
				},
				{
					"id": 13536,
					"slug": "portal",
					"name": "Portal",
					"added": 14394
				},
				{
					"id": 1030,
					"slug": "limbo",
					"name": "Limbo",
					"added": 12195
				},
				{
					"id": 19709,
					"slug": "half-life-2-episode-two",
					"name": "Half-Life 2: Episode Two",
					"added": 9615
				},
				{
					"id": 18080,
					"slug": "half-life",
					"name": "Half-Life",
					"added": 8835
				},
				{
					"id": 1450,
					"slug": "inside",
					"name": "INSIDE",
					"added": 7068
				}
			]
		},
		{
			"id": 11,
			"name": "Arcade",
			"slug": "arcade",
			"games_count": 22536,
			"image_background": "https://media.rawg.io/media/screenshots/3f1/3f1c417b405a86ed7d92b903e0fcfd0c.jpg",
			"games": [
				{
					"id": 3612,
					"slug": "hotline-miami",
					"name": "Hotline Miami",
					"added": 9313
				},
				{
					"id": 17540,
					"slug": "injustice-gods-among-us-ultimate-edition",
					"name": "Injustice: Gods Among Us Ultimate Edition",
					"added": 8516
				},
				{
					"id": 22509,
					"slug": "minecraft",
					"name": "Minecraft",
					"added": 7249
				},
				{
					"id": 4003,
					"slug": "grid-2",
					"name": "GRID 2",
					"added": 6744
				},
				{
					"id": 3408,
					"slug": "hotline-miami-2-wrong-number",
					"name": "Hotline Miami 2: Wrong Number",
					"added": 5438
				},
				{
					"id": 16343,
					"slug": "a-story-about-my-uncle",
					"name": "A Story About My Uncle",
					"added": 5346
				}
			]
		},
		{
			"id": 83,
			"name": "Platformer",
			"slug": "platformer",
			"games_count": 104149,
			"image_background": "https://media.rawg.io/media/games/0fd/0fd84d36596a83ef2e5a35f63a072218.jpg",
			"games": [
				{
					"id": 1030,
					"slug": "limbo",
					"name": "Limbo",
					"added": 12195
				},
				{
					"id": 422,
					"slug": "terraria",
					"name": "Terraria",
					"added": 10880
				},
				{
					"id": 9767,
					"slug": "hollow-knight",
					"name": "Hollow Knight",
					"added": 9463
				},
				{
					"id": 41,
					"slug": "little-nightmares",
					"name": "Little Nightmares",
					"added": 9338
				},
				{
					"id": 18080,
					"slug": "half-life",
					"name": "Half-Life",
					"added": 8835
				},
				{
					"id": 3144,
					"slug": "super-meat-boy",
					"name": "Super Meat Boy",
					"added": 8513
				}
			]
		},
		{
			"id": 1,
			"name": "Racing",
			"slug": "racing",
			"games_count": 24249,
			"image_background": "https://media.rawg.io/media/games/367/367463d43c2a1465f27e830b5b1334ee.jpg",
			"games": [
				{
					"id": 3272,
					"slug": "rocket-league",
					"name": "Rocket League",
					"added": 11085
				},
				{
					"id": 4003,
					"slug": "grid-2",
					"name": "GRID 2",
					"added": 6744
				},
				{
					"id": 2572,
					"slug": "dirt-rally",
					"name": "DiRT Rally",
					"added": 6029
				},
				{
					"id": 58753,
					"slug": "forza-horizon-4",
					"name": "Forza Horizon 4",
					"added": 5337
				},
				{
					"id": 5578,
					"slug": "grid",
					"name": "Race Driver: Grid",
					"added": 4950
				},
				{
					"id": 4347,
					"slug": "dirt-showdown",
					"name": "DiRT Showdown",
					"added": 4309
				}
			]
		},
		{
			"id": 59,
			"name": "Massively Multiplayer",
			"slug": "massively-multiplayer",
			"games_count": 3132,
			"image_background": "https://media.rawg.io/media/games/45b/45b57ed59de4b84effd8f6bc4b7bf515.jpg",
			"games": [
				{
					"id": 32,
					"slug": "destiny-2",
					"name": "Destiny 2",
					"added": 11961
				},
				{
					"id": 10213,
					"slug": "dota-2",
					"name": "Dota 2",
					"added": 10946
				},
				{
					"id": 766,
					"slug": "warframe",
					"name": "Warframe",
					"added": 10772
				},
				{
					"id": 290856,
					"slug": "apex-legends",
					"name": "Apex Legends",
					"added": 9511
				},
				{
					"id": 10533,
					"slug": "path-of-exile",
					"name": "Path of Exile",
					"added": 8631
				},
				{
					"id": 10142,
					"slug": "playerunknowns-battlegrounds",
					"name": "PlayerUnknown’s Battlegrounds",
					"added": 8471
				}
			]
		},
		{
			"id": 15,
			"name": "Sports",
			"slug": "sports",
			"games_count": 20581,
			"image_background": "https://media.rawg.io/media/games/cc5/cc576aa274780702ef93463f5410031e.jpg",
			"games": [
				{
					"id": 3272,
					"slug": "rocket-league",
					"name": "Rocket League",
					"added": 11085
				},
				{
					"id": 326292,
					"slug": "fall-guys",
					"name": "Fall Guys: Ultimate Knockout",
					"added": 7445
				},
				{
					"id": 2572,
					"slug": "dirt-rally",
					"name": "DiRT Rally",
					"added": 6029
				},
				{
					"id": 53341,
					"slug": "jet-set-radio-2012",
					"name": "Jet Set Radio",
					"added": 4710
				},
				{
					"id": 9575,
					"slug": "vrchat",
					"name": "VRChat",
					"added": 3878
				},
				{
					"id": 622492,
					"slug": "forza-horizon-5",
					"name": "Forza Horizon 5",
					"added": 3837
				}
			]
		},
		{
			"id": 6,
			"name": "Fighting",
			"slug": "fighting",
			"games_count": 12143,
			"image_background": "https://media.rawg.io/media/games/96b/96b9420bbd4bd1b79bf2a67f7779733a.jpg",
			"games": [
				{
					"id": 17540,
					"slug": "injustice-gods-among-us-ultimate-edition",
					"name": "Injustice: Gods Among Us Ultimate Edition",
					"added": 8516
				},
				{
					"id": 108,
					"slug": "mortal-kombat-x",
					"name": "Mortal Kombat X",
					"added": 7858
				},
				{
					"id": 28179,
					"slug": "sega-mega-drive-and-genesis-classics",
					"name": "SEGA Mega Drive and Genesis Classics",
					"added": 7240
				},
				{
					"id": 9830,
					"slug": "brawlhalla",
					"name": "Brawlhalla",
					"added": 6412
				},
				{
					"id": 274480,
					"slug": "mortal-kombat-11",
					"name": "Mortal Kombat 11",
					"added": 4645
				},
				{
					"id": 44525,
					"slug": "yakuza-kiwami",
					"name": "Yakuza Kiwami",
					"added": 4017
				}
			]
		},
		{
			"id": 19,
			"name": "Family",
			"slug": "family",
			"games_count": 5378,
			"image_background": "https://media.rawg.io/media/screenshots/351/351ee0915fcd5a64e976791794039d5c.jpg",
			"games": [
				{
					"id": 3254,
					"slug": "journey",
					"name": "Journey",
					"added": 7742
				},
				{
					"id": 2597,
					"slug": "lego-lord-of-the-rings",
					"name": "LEGO The Lord of the Rings",
					"added": 4916
				},
				{
					"id": 3350,
					"slug": "broken-age",
					"name": "Broken Age",
					"added": 4603
				},
				{
					"id": 3729,
					"slug": "lego-the-hobbit",
					"name": "LEGO The Hobbit",
					"added": 4521
				},
				{
					"id": 1259,
					"slug": "machinarium",
					"name": "Machinarium",
					"added": 4085
				},
				{
					"id": 1140,
					"slug": "world-of-goo",
					"name": "World of Goo",
					"added": 4008
				}
			]
		},
		{
			"id": 28,
			"name": "Board Games",
			"slug": "board-games",
			"games_count": 8259,
			"image_background": "https://media.rawg.io/media/games/98b/98b1b87e86a815c23efe902fce598e54.jpg",
			"games": [
				{
					"id": 23557,
					"slug": "gwent-the-witcher-card-game",
					"name": "Gwent: The Witcher Card Game",
					"added": 4186
				},
				{
					"id": 327999,
					"slug": "dota-underlords",
					"name": "Dota Underlords",
					"added": 3531
				},
				{
					"id": 2055,
					"slug": "adventure-capitalist",
					"name": "AdVenture Capitalist",
					"added": 2952
				},
				{
					"id": 2306,
					"slug": "poker-night-2",
					"name": "Poker Night 2",
					"added": 1904
				},
				{
					"id": 3187,
					"slug": "armello",
					"name": "Armello",
					"added": 1788
				},
				{
					"id": 758,
					"slug": "hue",
					"name": "Hue",
					"added": 1730
				}
			]
		},
		{
			"id": 34,
			"name": "Educational",
			"slug": "educational",
			"games_count": 15947,
			"image_background": "https://media.rawg.io/media/screenshots/5ac/5ace4a4f2cd475fa68f501b9f013fb32.jpg",
			"games": [
				{
					"id": 1358,
					"slug": "papers-please",
					"name": "Papers, Please",
					"added": 6017
				},
				{
					"id": 1140,
					"slug": "world-of-goo",
					"name": "World of Goo",
					"added": 4008
				},
				{
					"id": 2778,
					"slug": "surgeon-simulator-cpr",
					"name": "Surgeon Simulator",
					"added": 3524
				},
				{
					"id": 9768,
					"slug": "gameguru",
					"name": "GameGuru",
					"added": 2246
				},
				{
					"id": 13777,
					"slug": "sid-meiers-civilization-iv-colonization",
					"name": "Sid Meier's Civilization IV: Colonization",
					"added": 2099
				},
				{
					"id": 6885,
					"slug": "pirates-3",
					"name": "Sid Meier's Pirates!",
					"added": 1986
				}
			]
		},
		{
			"id": 17,
			"name": "Card",
			"slug": "card",
			"games_count": 4450,
			"image_background": "https://media.rawg.io/media/games/98b/98b1b87e86a815c23efe902fce598e54.jpg",
			"games": [
				{
					"id": 23557,
					"slug": "gwent-the-witcher-card-game",
					"name": "Gwent: The Witcher Card Game",
					"added": 4186
				},
				{
					"id": 28121,
					"slug": "slay-the-spire",
					"name": "Slay the Spire",
					"added": 4146
				},
				{
					"id": 18852,
					"slug": "poker-night-at-the-inventory",
					"name": "Poker Night at the Inventory",
					"added": 2529
				},
				{
					"id": 8923,
					"slug": "faeria",
					"name": "Faeria",
					"added": 1995
				},
				{
					"id": 332,
					"slug": "the-elder-scrolls-legends",
					"name": "The Elder Scrolls: Legends",
					"added": 1924
				},
				{
					"id": 2306,
					"slug": "poker-night-2",
					"name": "Poker Night 2",
					"added": 1904
				}
			]
		}
	]
}


let data= resultsEnData.results;
const genresApi= data.map(genre=>genre.name); // Esto es una array con los names de los genres
console.log(genresApi);



[
    'Action',                'Indie',
    'Adventure',             'RPG',
    'Strategy',              'Shooter',
    'Casual',                'Simulation',
    'Puzzle',                'Arcade',
    'Platformer',            'Racing',
    'Massively Multiplayer', 'Sports',
    'Fighting',              'Family',
    'Board Games',           'Educational',
    'Card'
  ]



// //RUTA PARA MOSTRAR TODOS LOS VIDEOGAMES.
// //FUNCIONA BIEN!!
// //Le voy a agregar un if para que pueda recibir query de name
// videogamesRouter.get('/',async (req,res)=>{
//     try {
//         const response= await axios(`https://api.rawg.io/api/games?key=${API_KEY}`);
//         const data = response.data.results;
//         const allVideogames= getAllVideogames(data);
        
//         res.status(200).json(allVideogames);
        

//     } catch (error) {
//         res.status(400).json({error: error.message});
        
//     }

// });

// //Probar traer todos los videogames de la API + los de la BDD














// require('dotenv').config();
// const { Sequelize } = require('sequelize');
// const fs = require('fs');
// const path = require('path');
// const {
//   DB_USER, DB_PASSWORD, DB_HOST, API_KEY
// } = process.env;



// const sequelize = new Sequelize(`postgres://${DB_USER}:${DB_PASSWORD}@${DB_HOST}/videogames`, {
//   logging: false, // set to console.log to see the raw SQL queries
//   native: false, // lets Sequelize know we can use pg-native for ~30% more speed
// });
// const basename = path.basename(__filename);

// const modelDefiners = [];

// // Leemos todos los archivos de la carpeta Models, los requerimos y agregamos al arreglo modelDefiners
// fs.readdirSync(path.join(__dirname, '/models'))
//   .filter((file) => (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js'))
//   .forEach((file) => {
//     modelDefiners.push(require(path.join(__dirname, '/models', file)));
//   });

// // Injectamos la conexion (sequelize) a todos los modelos
// modelDefiners.forEach(model => model(sequelize));
// // Capitalizamos los nombres de los modelos ie: product => Product
// let entries = Object.entries(sequelize.models);
// let capsEntries = entries.map((entry) => [entry[0][0].toUpperCase() + entry[0].slice(1), entry[1]]);
// sequelize.models = Object.fromEntries(capsEntries);


// // En sequelize.models están todos los modelos importados como propiedades
// // Para relacionarlos hacemos un destructuring
// const {Videogame, Genre} = sequelize.models;

// // Aca vendrian las relaciones
// // Product.hasMany(Reviews);
// Videogame.belongsToMany(Genre, {through: "VideogameGenre"});
// Genre.belongsToMany(Videogame, {through: "VideogameGenre"});

// module.exports = {
//   ...sequelize.models, // para poder importar los modelos así: const { Product, User } = require('./db.js');
//   conn: sequelize,     // para importart la conexión { conn } = require('./db.js');
// };


// let str= 'prueba'
// console.log(str)
// let pruebaNum=Number(str);
// console.log(pruebaNum)


// Esto anda ok. Voy a reemplazarlo por lo de mi BDD a ver cómo anda eso

// //OJO la API permite también buscar por nombre (slug) del videogame!
// //ME FALTA HACER QUE BUSQUE TAMBIEN EN LA BDD
// videogamesRouter.get('/:idVideogame', async (req,res)=>{
            
//     try {
//         const {idVideogame} = req.params;
//         const id = Number(idVideogame);
// //API permite también buscar por nombre (slug) del videogame! Lo evito con el siguiente if:
//         if(id>0) { 
//             const response= await axios(`https://api.rawg.io/api/games/${id}?key=${API_KEY}`);
//             const data = response.data;
//             const videogameDetails= getVideogameDetails(data);
//             res.status(200).json(videogameDetails);


//         } else{
//             throw new Error('ID must be a number greater than 0');
//         }
   
    

// } catch (error) {
//     //Antes de responder con el error (si no está en la API), buscar en BDD:

//     let suma= 4+4;
//     console.log(`Puedo hacer cosas aca ${suma}`)

//     res.status(404).json({error: error.message});
    
// }

// })